import { Meta } from '@storybook/addon-docs';
import {
	KolAbbr,
	KolAlert,
	KolCard,
	KolHeading,
	KolIconIcofont,
	KolIndentedText,
	KolIcon,
	KolKolibri,
	KolDetails,
	KolLink,
	KolLogo,
	KolTable,
} from '@public-ui/react';
import { KoliBri } from './snippets/kolibri';
import { Mermaid } from './components/mermaid';
import AssetAbgrenzung from './assets/abgrenzung.jpg';

<Meta title="Konzepte/Theming/Konzept" id="theming" />

<kol-heading _level="1">Theming</kol-heading>

<p>
	Das Einzigartige an <KoliBri /> ist die <strong>Referenzimplementierung</strong> von Komponenten, die in sich von Grund auf{' '}
	<strong>semantisch W3C- und WCAG-konform</strong> sind und damit <strong>vollständig barrierefrei</strong> bezüglich der assistiven Unterstützung sind. Alle
	Komponenten werden dabei als{' '}
	<KolLink _href="https://developer.mozilla.org/en-US/docs/Web/Web_Components?retiredLocale=de" _target="mozilla">
		Web Components
	</KolLink>{' '}
	umgesetzt und sind somit in allen webbasierten Projekten wiederverwendbar. In der folgenden Abbildung werden diese Komponenten durch die grau-gestrichelten
	Formen in der Mitte dargestellt.
</p>
<p>
	<KolIndentedText>
		<strong>1. KoliBri-Komponenten könnten als Basis für alle Design Systeme oder Komponenten-Bibliotheken wiederverwendet werden.</strong>
	</KolIndentedText>
</p>

<img src={AssetAbgrenzung} alt="Darstellung, wie die Komponenten mittels verschiedener Styleguides zu kundenspezifischen Komponenten werden." />

<p>
	Im ersten Release (v1.0) hatte <KoliBri /> noch direkt das Individualisieren des Standard-Designs mittels sogenannter{' '}
	<strong>
		<KolLink _href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties" _target="mozilla">
			CSS-Properties
		</KolLink>
	</strong>{' '}
	(
	<KolLink _href="https://uxdesign.cc/design-tokens-for-dummies-8acebf010d71" _target="uxdesign">
		Design-Tokens
	</KolLink>
	, <KolLink _href="https://tailwindcss.com" _target="tailwindcss">
		Tailwind CSS
	</KolLink>) umgesetzt. Mit der Umsetzung weiterer Themes haben wir jedoch festgestellt, dass wir immer mehr CSS-Properties einführen müssten, um die Flexiblität
	für das gewünschte Design/UX (Corporate Design/Styleguide) umsetzen zu können. Im Zweifel müsste für jede Anpassbarkeit ein separates Property vorgesehen werden.
	Am Beispiel des <KolLink _href="https://mui.com/material-ui/api/button/#css" _target="mui">
		MUI-Button CSS
	</KolLink> ist gut erkennbar, wie die CSS-Properties (Design Token) immer mehr werden.
</p>
<p>
	<KolIndentedText>
		<strong>
			2. Wir haben das ganze CSS vollständig von den Components entkoppelt (like{' '}
			<KolLink _href="https://styled-components.com" _target="styled-components">
				Styled-Components
			</KolLink>
			).
		</strong>
	</KolIndentedText>
</p>
<p>
	Mit Hilfe des Designers kann ein "Mandant" die Komponenten einzeln und vollständig unabhängig voneinander mit der gesamten CSS-Freiheit gestalten. Innerhalb
	eines "Mandanten"-Themes können eigene CSS-Properties eingeführt werden. Die Nutzung von CSS-Properties (Design-Tokens) bleibt somit auf Theme-Ebene erhalten,
	jedoch mit einem viel kleineren und pflegbareren Scope.
</p>
<p>
	<KolIndentedText>
		<strong>
			3. KoliBri ermöglicht die Wiederverwendung getesteter, barrierefreier und robuster Komponenten(-konstruktionen) bei nahezu individuellem Design.
		</strong>
	</KolIndentedText>
</p>
<p>Im folgenden Diagramm wird ein beispielhafter Design-Prozess mit KoliBri dargestellt, der vollkommen unabhängig vom KoliBri-Team angewendet werden kann.</p>

<MermaidDesignProcess />

<Mermaid
	code={`
stateDiagram-v2
	direction LR
	s1: <strong>Spezifikation</strong>
	s1: UI/UX-Team
	s2: <strong>Design-Tokens</strong>
	s2: JSON
	s3: <strong>Style-Files</strong>
	s3: CSS
	s4: <strong>Designer</strong>
	s4: KoliBri
	s5: <strong>Theme</strong>
	s5: KoliBri
	note right of s1
		<strong>Tools:</strong> Adobe XD, Figma, Sketch u.a.
		<strong>Technik:</strong> CSS-Properties, Design-Tokens
	end note
	note right of s2
		Export-<strong>Plugin</strong>
	end note
	note right of s3
		Set of CSS-Properties
	end note
	note right of s5
		Sharable <strong>NPM-Paket</strong>
	end note
	[*] --> s1
	s1 --> s2 : Plugin
	s2 --> s3 : Script
	s3 --> s5
	s1 --> s4
	s4 --> s5
	s5 --> [*]`}
></Mermaid>

<p>
	Das UI/UX-Team spezifiziert beispielsweise mit Figma die Komponenten ihres Design Systems. Bei der Überführung der Spezifikation in die Realisierung, wird das
	Design in Form von reinem CSS mittels des{' '}
	<KolLink _href="iframe.html?id=designer--page" _target="_self">
		KoliBri-Designers
	</KolLink>{' '}
	auf die Basis-Komponenten "übertragen". Ist im eigenen Design System eine Individualisierbarkeit gewüscht, dann können im Designer dafür CSS-Properties oder
	Design-Tokens definiert werden. Damit das eigene Theme über Projekte hinweg geteilt werden kann, wird das Theme in ein NPM-Paket paketiert und kann über eine
	beliebige Registery bereitgestellt werden.
</p>
<p>
	<KolDetails _summary="Design-Tokens">
		Optional können beispielsweise aus Figma, mittels Design-Tokens, Design-Schemata exportiert werden. Diese können dann in separate CSS-Dateien überführt
		werden, die die jeweiligen Werte zu den CSS-Properties enthalten. Später wird eine dieser CSS-Dateien verwendet, um das konkrete Design in Kombination mit
		den Web Components und dem Theme in der Webseite anzuwenden.
	</KolDetails>
</p>
<p>
	<KolDetails _summary="Dark-Mode">
		Optional kann auch das Thema "Dark-Mode" umgesetzt werden. Hierzu können das erforderliche CSS in den Globals des KoliBri-Themes hinterlegt werden.
	</KolDetails>
</p>

<KolAlert _heading="KoliBri-Factory" _type="info" _variant="card">
	<p>
		Eigene spezifische Komponenten die nicht von KoliBri bereitgestellt werden und die leider nicht zur KoliBri-Komponenten-Vielfalt passen, können in eigenen
		Komponenten-Bibliotheken aufgebaut und unabhängig gepflegt werden. Hierfür bieten wir die sogenannte <strong>KoliBri-Factory</strong> (Stack) an (siehe{' '}
		<KolLink _href="https://github.com/public-ui/kolibri/blob/main/docs/ARCHITECTURE.md#erweitert" _target="github">
			Modularisierung
		</KolLink>
		).
	</p>
</KolAlert>
